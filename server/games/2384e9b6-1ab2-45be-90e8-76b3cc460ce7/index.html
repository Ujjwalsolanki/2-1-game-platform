<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Minesweeper</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        h1 {
            color: #333;
        }
        #grid {
            display: grid;
            grid-template-columns: repeat(5, 40px);
            grid-gap: 5px;
        }
        .cell {
            width: 40px;
            height: 40px;
            background-color: #ddd;
            border: 1px solid #aaa;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
        }
        .revealed {
            background-color: #fff;
            cursor: default;
        }
        .mine {
            background-color: red;
            color: white;
        }
        .number {
            color: blue;
        }
    </style>
</head>
<body>
    <h1>Mini Minesweeper</h1>
    <p>Click on the squares to reveal them. Avoid the mines!</p>
    <div id="grid"></div>
    <script>
        const gridElement = document.getElementById('grid');
        const gridSize = 5;
        const mineCount = 3;
        let grid = [];

        function createGrid() {
            // Initialize grid with empty cells
            for (let i = 0; i < gridSize; i++) {
                grid[i] = [];
                for (let j = 0; j < gridSize; j++) {
                    grid[i][j] = 0;
                }
            }
            // Place mines
            let minesPlaced = 0;
            while (minesPlaced < mineCount) {
                const x = Math.floor(Math.random() * gridSize);
                const y = Math.floor(Math.random() * gridSize);
                if (grid[x][y] !== 'M') {
                    grid[x][y] = 'M';
                    minesPlaced++;
                    // Increment numbers around the mine
                    for (let dx = -1; dx <= 1; dx++) {
                        for (let dy = -1; dy <= 1; dy++) {
                            const nx = x + dx;
                            const ny = y + dy;
                            if (nx >= 0 && ny >= 0 && nx < gridSize && ny < gridSize && grid[nx][ny] !== 'M') {
                                grid[nx][ny]++;
                            }
                        }
                    }
                }
            }
        }

        function renderGrid() {
            gridElement.innerHTML = '';
            for (let i = 0; i < gridSize; i++) {
                for (let j = 0; j < gridSize; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.x = i;
                    cell.dataset.y = j;
                    cell.addEventListener('click', revealCell);
                    gridElement.appendChild(cell);
                }
            }
        }

        function revealCell(event) {
            const x = event.target.dataset.x;
            const y = event.target.dataset.y;
            if (grid[x][y] === 'M') {
                event.target.classList.add('mine');
                alert('Game Over! You hit a mine.');
                location.reload();
            } else {
                event.target.classList.add('revealed');
                if (grid[x][y] > 0) {
                    event.target.textContent = grid[x][y];
                    event.target.classList.add('number');
                } else {
                    event.target.textContent = '';
                }
            }
        }

        createGrid();
        renderGrid();
    </script>
</body>
</html>